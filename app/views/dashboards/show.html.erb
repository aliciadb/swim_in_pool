<div class="container">
  <h1 class="pt-4 pb-3">Dashboard</h1>
  <div class="booking-container">
    <h3 class="pt-4 pb-3">My upcoming bookings</h3>
    <div class="booking-grid">
    <% @bookings.each do |booking| %>
      <div class="pool-card mb-3">
        <% if booking.pool.photo.attached? %>
          <%= cl_image_tag booking.pool.photo.key, width: 500, crop: :fill %>
        <% else %>
          <img src="https://images.unsplash.com/photo-1536745511564-a5fa6e596e7b?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=992" alt="Pool photo" height=200>
        <% end %>
        <div class="p-4">
          <h4><%= booking.pool.name %></h4>
          <p><i class="fa-regular fa-calendar-days"></i> <%= booking.start_date %> --> <%= booking.end_date %></p>
          <p><i class="fa-solid fa-location-dot"></i> <%= booking.pool.location %></p>
        </div>
      </div>
    <% end %>
    </div>
  </div>
  <hr class="my-5">
  <div class="d-flex justify-content-between align-items-center">
    <h3 class="pt-4 pb-3">My pools</h3>
    <%= link_to "+ Add a new pool", new_pool_path, class: 'btn btn-primary' %>
  </div>
  <div class="cards-container">
    <% @pools.each do |pool| %>
      <%= link_to pool_path(pool) do %>
        <div class="pool-card mb-3">
          <% if pool.photo.attached? %>
            <%= cl_image_tag pool.photo.key, width: 500, crop: :fill %>
          <% else %>
            <img src="https://images.unsplash.com/photo-1536745511564-a5fa6e596e7b?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=992" alt="Pool photo" height=200>
          <% end %>
          <div class="p-4">
            <div class="d-flex justify-content-between">
              <div>
                <p class="category"><%= pool.category %></p>
                <h4><%= pool.name %></h4>
              </div>
              <%= button_to "X", delete_pool_path(pool), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-outline-dark btn-sm' %>
            </div>
            <ul class="details d-flex justify-content-between">
              <li><%= pool.location %></li>
              <li><i class="fa-solid fa-star"></i> <%= pool.rating %></i></li>
              <li class="price"><strong><%= pool.price %> â‚¬</strong></li>
            </ul>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>

</div>
